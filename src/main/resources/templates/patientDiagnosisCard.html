<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<html lang="en">
<head>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <meta charset="UTF-8">
    <title>Patient Page</title>

    <style>
    table, tbody,thead {
    display: block;
    }
    tbody {
    height: 280px;
    overflow-y: auto;
    overflow-x: hidden;
    }
    table, th, td {
        padding: 11px;
        border: 3px solid rgb(230, 230, 230);
        border-collapse: collapse;
    }
    d {
        padding: 5px;
        text-align: left;
    }
    tr:hover {background-color:rgb(255, 255, 255);}

    </style>


</head>
<body style="background-color:powderblue;">

<h3>
    <div style="text-align:center; font-size:28px"> Текущий пользователь:
    <a style="text-align:center;font-size:28px" th:text="${patient.firstName}"></a>
    <a style="text-align:center;font-size:28px" th:text="${patient.lastName}"></a>
    </div>
</h3>
<br>
<button onclick="window.location.href='/patients'">Go list patients</button>
<br><br>

<fieldset>
    <button id="closeDiagnosisButton">Close diagnosis button</button>
    <button id="doPrescription"  style="display:inline; float:right">Do prescription</button>
    <br><br>

<div th:if="${diagnosisList} != null">
    <table class="diagnosisList" style="display:inline; float:left" border="1">
        <caption  style=" font-family: Arial, Helvetica, sans-serif;">Диагноз сообщение:</caption>
        <tr>
            <th>Id</th>
            <th>Description</th>
            <th>Patient</th>
            <th>isOpened</th>
            <th>time</th>
        </tr>



        <tr th:each="diagnosis : ${diagnosisList}">
            <td th:text="${diagnosis.id}"></td>
            <td th:text="${diagnosis.description}"></td>
            <td th:text="${diagnosis.patient}"></td>
            <td th:text="${diagnosis.isOpened}"></td>
            <td th:text="${diagnosis.time}"></td>
        </tr>
    </table>
</div>

    <div th:if="${prescriptionList} != null">
        <table class="prescriptionList" style="display:inline; float:right" border="1">
            <caption style=" font-family: Arial, Helvetica, sans-serif;" >Назначение сообщение:</caption>
            <tr>
                <th>Id</th>
                <th>Description</th>
                <th>Type of prescription</th>
                <th>Time</th>
                <th>Done</th>
            </tr>



            <tr th:each="prescription : ${prescriptionList}">
                <td th:text="${prescription.id}"></td>
                <td th:text="${prescription.description}"></td>
                <td th:text="${prescription.type}"></td>
                <td th:text="${prescription.time}"></td>
                <td th:text="${prescription.isDone}"></td>
            </tr>
        </table>
    </div>
</fieldset>

<br>
<fieldset style="float:left" id = "diagnosisFieldSet">
    <legend>Добавить диагноз</legend>
    <br>
    <caption>Описание диагноза:</caption>
    <p><textarea name="comment" id="diagnosisDescription"></textarea></p>
    <button id="diagnosisSubmit" value="Добавить">Добавить</button>
</fieldset>

<fieldset id="addPrescriptionFieldSet" style="display:none;">
    <legend>Добавить назначение</legend>
    <form>
        <caption>Тип назначения:</caption>
        <form>
            <select name="prescriptionType" id="prescriptionType">
                <option value="Procedure">Процедура</option>
                <option value="Operation">Операция</option>
                <option value="Drug">Лекарство</option>
            </select>
        </form>
        <caption>Описание назначения:</caption>
        <p><textarea id="prescriptionDescription" name="comment"></textarea></p>
        <button id="prescriptionSubmit" value="Добавить">Добавить</button>
    </form>
</fieldset>



</th:if>
<th:else>
    <p>No tasks yet</p>
</th:else>
</body>
</html>